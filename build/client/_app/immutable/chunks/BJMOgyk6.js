import{a5 as p,a6 as w,a7 as h,a8 as C,o as m,a9 as v,v as g,A as y,aa as A,ab as S,q as M,K as E,J as D,ac as F,ad as T,ae as j,w as P,af as l,g as R,e as c,a3 as q,h as d,ag as b,ah as B,ai as N,aj as k,ak as O,al as U,am as $,an as z,ao as J,ap as K,aq as G,ar as H,as as I}from"./B64TLU0q.js";import{h as L,m as Q,u as V}from"./YwOi7tgn.js";class W{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#n=!0;constructor(e,a=!0){this.anchor=e,this.#n=a}#o=()=>{var e=p;if(this.#t.has(e)){var a=this.#t.get(e),s=this.#s.get(a);if(s)w(s),this.#a.delete(a);else{var t=this.#e.get(a);t&&(this.#s.set(a,t.effect),this.#e.delete(a),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),s=t.effect)}for(const[o,r]of this.#t){if(this.#t.delete(o),o===e)break;const i=this.#e.get(r);i&&(h(i.effect),this.#e.delete(r))}for(const[o,r]of this.#s){if(o===a||this.#a.has(o))continue;const i=()=>{if(Array.from(this.#t.values()).includes(o)){var u=document.createDocumentFragment();A(r,u),u.append(m()),this.#e.set(o,{effect:r,fragment:u})}else h(r);this.#a.delete(o),this.#s.delete(o)};this.#n||!s?(this.#a.add(o),C(r,i,!1)):i()}}};#r=e=>{this.#t.delete(e);const a=Array.from(this.#t.values());for(const[s,t]of this.#e)a.includes(s)||(h(t.effect),this.#e.delete(s))};ensure(e,a){var s=p,t=S();if(a&&!this.#s.has(e)&&!this.#e.has(e))if(t){var o=document.createDocumentFragment(),r=m();o.append(r),this.#e.set(e,{effect:v(()=>a(r)),fragment:o})}else this.#s.set(e,v(()=>a(this.anchor)));if(this.#t.set(s,e),t){for(const[i,f]of this.#s)i===e?s.skipped_effects.delete(f):s.skipped_effects.add(f);for(const[i,f]of this.#e)i===e?s.skipped_effects.delete(f.effect):s.skipped_effects.add(f.effect);s.oncommit(this.#o),s.ondiscard(this.#r)}else g&&(this.anchor=y),this.#o()}}function re(n,e,...a){var s=new W(n);M(()=>{const t=e()??null;s.ensure(t,t&&(o=>t(o,...a)))},E)}function X(n){return(e,...a)=>{var s=n(...a),t;if(g)t=y,D();else{var o=s.render().trim(),r=F(o);t=P(r),e.before(t)}const i=s.setup?.(t);T(t,t),typeof i=="function"&&j(i)}}function Y(){return b===null&&B(),(b.ac??=new AbortController).signal}function x(n){c===null&&l(),q&&c.l!==null?_(c).m.push(n):R(()=>{const e=d(n);if(typeof e=="function")return e})}function Z(n){c===null&&l(),x(()=>()=>d(n))}function ee(n,e,{bubbles:a=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:a,cancelable:s})}function te(){const n=c;return n===null&&l(),(e,a,s)=>{const t=n.s.$$events?.[e];if(t){const o=N(t)?t.slice():[t],r=ee(e,a,s);for(const i of o)i.call(n.x,r);return!r.defaultPrevented}return!0}}function se(n){c===null&&l(),c.l===null&&k(),_(c).b.push(n)}function ae(n){c===null&&l(),c.l===null&&k(),_(c).a.push(n)}function _(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const ie=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:ae,beforeUpdate:se,createContext:O,createEventDispatcher:te,createRawSnippet:X,flushSync:U,fork:$,getAbortSignal:Y,getAllContexts:z,getContext:J,hasContext:K,hydrate:L,mount:Q,onDestroy:Z,onMount:x,setContext:G,settled:H,tick:I,unmount:V,untrack:d},Symbol.toStringTag,{value:"Module"}));export{W as B,ie as a,x as o,re as s};
